

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Flowchart Overview &mdash; Mesmerize 0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/sphinxcontrib-images/LightBox2/lightbox2/js/jquery-1.11.0.min.js"></script>
        <script type="text/javascript" src="../../_static/sphinxcontrib-images/LightBox2/lightbox2/js/lightbox.min.js"></script>
        <script type="text/javascript" src="../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sphinxcontrib-images/LightBox2/lightbox2/css/lightbox.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Nodes" href="nodes.html" />
    <link rel="prev" title="Script Editor" href="../viewer/modules/script_editor.html" />
    <link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Mesmerize
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../citation_guide.html">Citation guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Project Organization:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../project_organization/new_project/new_project.html">Create a New Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project_organization/project_browser/project_browser.html">Project Browser</a></li>
</ul>
<p class="caption"><span class="caption-text">Viewer</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../viewer/overview.html">Viewer overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../convert_meta_data.html">Convert Meta Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../viewer/add_to_project.html">Add a Sample to the Project</a></li>
</ul>
<p class="caption"><span class="caption-text">Viewer Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../viewer/modules/tiff_file.html">Tiff file module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../viewer/modules/batch_manager.html">Batch Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../viewer/modules/stimulus_mapping.html">Stimulus Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../viewer/modules/roi_manager.html">ROI Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../viewer/modules/caiman_motion_correction.html">Caiman Motion Correction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../viewer/modules/cnmf.html">CNMF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../viewer/modules/cnmfe.html">CNMFE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../viewer/modules/script_editor.html">Script Editor</a></li>
</ul>
<p class="caption"><span class="caption-text">Flowchart</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Flowchart Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#transmission">Transmission</a></li>
<li class="toctree-l2"><a class="reference internal" href="#console">Console</a></li>
<li class="toctree-l2"><a class="reference internal" href="#transmission-files">Transmission Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#load-transmission">Load Transmission</a></li>
<li class="toctree-l3"><a class="reference internal" href="#view-history-log">View History Log</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nodes.html">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Plots</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../plots/beeswarm.html">Beeswarm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plots/consoles.html">Consoles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plots/cross_correlation.html">Cross Correlation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plots/datapoint_tracer.html">Datapoint Tracer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plots/heatmap.html">Heatmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plots/kshape.html">KShape</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plots/peak_editor.html">Peak Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plots/proportions.html">Proportions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plots/scatter.html">Scatter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plots/simple_plot.html">Simple Plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plots/spacemap.html">SpaceMap</a></li>
</ul>
<p class="caption"><span class="caption-text">Misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/misc.html">Welcome Window</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/misc.html#project-structure">Project Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/misc.html#project-sample">Project Sample</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/misc.html#consoles">Consoles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/misc.html#saving-plots">Saving plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/misc.html#plot-navbar">Plot Navbar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/misc.html#system-configuration">System Configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guide/nodes.html">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guide/plots.html">Plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guide/viewer_modules.html">Viewer Modules</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/common.html">Common</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/Viewer_data_types.html">Viewer Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/viewer_modules/viewer_modules.html">Viewer Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/viewer_modules/roi_manager.html">ROI Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/viewer_modules/stimulus_mapping.html">Stimulus Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/Analysis_data_types.html">Data types used for analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/analysis.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/nodes.html">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/plotting/utils.html">Plotting utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/plotting/widgets/bases.html">Plot Bases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/plotting/widgets/datapoint_tracer.html">Datapoint Tracer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/plotting/widgets/heatmap.html">Heatmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/plotting/widgets/kshape.html">KShape</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/plotting/widgets/proportions.html">Proportions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/plotting/widgets/scatter.html">Scatter Plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/plotting/widgets/spacemap.html">SpaceMap</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Mesmerize</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Flowchart Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/user_guides/flowchart/overview.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="flowchart-overview">
<span id="flowchartoverview"></span><h1>Flowchart Overview<a class="headerlink" href="#flowchart-overview" title="Permalink to this headline">¶</a></h1>
<p>The flowchart allows you to analyze samples in your project and create plots by arranging analysis nodes. Each node takes an input, performs an operation, and produces an output. For example the <a class="reference internal" href="nodes.html#node-derivative"><span class="std std-ref">Derivative</span></a> node takes use-specified numerical arrays, computes the derivative of these arrays, and then outputs the result.</p>
<p>The Flowchart is based on the <a class="reference external" href="http://www.pyqtgraph.org/documentation/flowchart/">pyqtgraph flowchart widgets</a></p>
<p><strong>Flowchart Window</strong></p>
<a class=""
               data-lightbox="group-57199a1d-491f-49bb-b98c-125547d0b8d6"
               href="../../_images/flowchart_overview1.png"
               title=""
               data-title=""
               ><img src="../../_images/flowchart_overview1.png"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a><p><strong>Add node</strong>: Right click -&gt; Add node -&gt; Choose from selection</p>
<p>Click on a node to highlight the Control Widget</p>
<p><strong>Remove node</strong>: Right click -&gt; Remove node</p>
<p><strong>Connecting nodes</strong>: Click on a node terminal and drag to another terminal</p>
<p><strong>Save the flowchart layout</strong>: Click “Save as…” to save the layout to a new file. You must specify the file extension as “.fc”. If you save this file within the <a class="reference internal" href="../general/misc.html#projectstructure"><span class="std std-ref">“flowcharts” directory</span></a> of your project it will show up in the <a class="reference internal" href="../general/misc.html#welcomewindow"><span class="std std-ref">Welcome Window</span></a> when you open your project.</p>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This does not save the data, use the <a class="reference internal" href="nodes.html#node-save"><span class="std std-ref">Save</span></a> node to save data.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Due to a weird Qt or pyqtgraph bug certain parameter values (such as those in drop-down menus) can’t be saved. Similarly, parameters values are lost when you save to an existing .fc file. If you’re interested take a look at <code class="docutils literal notranslate"><span class="pre">pyqtgraphCore.WidgetGroup</span></code>. Anyways you shouldn’t be using the flowchart layout to save this information, that’s what the History Trace in Transmission objects is for.</p>
</div>
</div></blockquote>
<p><strong>Load an .fc file</strong>: Click the “Load” button.</p>
<p><strong>Reset View button</strong>: Reset the view, for example if you zoom out or pan too far.</p>
<div class="section" id="transmission">
<span id="concept-transmission"></span><h2>Transmission<a class="headerlink" href="#transmission" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../api_reference/Analysis_data_types.html#api-transmission"><span class="std std-ref">API Reference</span></a></p>
<p>Almost every node uses a Transmission object for input and output. A Transmission is basically a DataFrame and a History Trace (analysis log) of the data within the DataFrame.</p>
<blockquote>
<div><p><strong>Transmission DataFrame</strong></p>
<p>The Transmission DataFrame is created from your <span class="xref std std-ref">ProjectDataFrame</span> (or sub-DataFrame) by the <span class="xref std std-ref">node_Load_Proj_DF</span> node. This initial DataFrame will contain the same columns as your Project DataFrame, and a new column named <strong>_RAW_CURVE</strong>. Each element (row) in the <strong>_RAW_CURVE</strong> column is a 1-D numerical array representing a single raw curve extracted from an ROI.</p>
<p>A new column named <strong>_BLOCK_</strong> is also added which contains the <a class="reference external" href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a> for logging the analysis history of this newly created block of DataFrame rows, known as a <em>data block</em>. This allows you to merge Transmissions (see <a class="reference internal" href="nodes.html#node-merge"><span class="std std-ref">Merge node</span></a>) and maintain their independent analysis logs prior to the merge.</p>
<p><strong>Naming conventions for DataFrame columns according to the data types</strong></p>
<ul class="simple">
<li><em>numerical data</em>: single leading underscore ( _ ). All caps if produced by a flowchart node.</li>
<li><em>categorial data</em>: no leading underscore. All caps if produced by flowhchart node.</li>
<li><em>special cases</em>: Peak detection data are placed in a column named <strong>peaks_bases</strong> where each element is a DataFrame.</li>
<li><em>uuid data</em>: has uuid or UUID in the name</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">_BLOCK_ is an exception, it contains UUIDs not numerical data.</p>
</div>
<p><strong>History Trace</strong></p>
<p>The History Trace of a Transmission is a log containing the discrete analysis steps, known as operations, along with their parameters and any other useful information. When a flowchart node performs an operation it stores the output(s) data in the Transmission DataFrame and appends the operation parameters to this log. A seperate log is kept for each data block present in the Transmission DataFrame.</p>
</div></blockquote>
</div>
<div class="section" id="console">
<span id="console-flowchart"></span><h2>Console<a class="headerlink" href="#console" title="Permalink to this headline">¶</a></h2>
<p>You have direct access to the data within the nodes through the console in the flowchart. To show the console go to View -&gt; Console.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">If you are unfamiliar with the console see the overview on <a class="reference internal" href="../general/misc.html#consoleoverview"><span class="std std-ref">Consoles</span></a></p>
</div>
<p>Call <code class="docutils literal notranslate"><span class="pre">get_nodes()</span></code> to view a dict of all nodes in the flowchart. You can access the output Transmission in most nodes through the attribute <cite>t</cite>. You can access the transmission dataframe through <code class="docutils literal notranslate"><span class="pre">t.df</span></code>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">See the <a class="reference internal" href="../../api_reference/Analysis_data_types.html#api-transmission"><span class="std std-ref">Transmission API</span></a> for more information. Sources for the nodes at mesmerize/pyqtgraphCore/flowchart/library.</p>
</div>
<p><strong>Example, directly accessing DataFrame elements through the flowchart console</strong></p>
<a class=""
               data-lightbox="group-1f11be26-ed98-49cf-8212-3322151c9279"
               href="../../_images/flowchart_console1.png"
               title=""
               data-title=""
               ><img src="../../_images/flowchart_console1.png"
                     class=""
                     width="100%"
                     height="auto"
                     alt=""/>
                </a></div>
<div class="section" id="transmission-files">
<span id="transmissionfiles"></span><h2>Transmission Files<a class="headerlink" href="#transmission-files" title="Permalink to this headline">¶</a></h2>
<p>You can save a Transmission files using the <a class="reference internal" href="nodes.html#node-save"><span class="std std-ref">Save node</span></a> and work with the data directly in scripts, jupyter notebooks etc. You can also save them through the flowchart console (and plot consoles) through  <a class="reference internal" href="../../api_reference/Analysis_data_types.html#mesmerize.Transmission.to_hdf5" title="mesmerize.Transmission.to_hdf5"><code class="xref py py-func docutils literal notranslate"><span class="pre">Transmission.to_hdf5</span></code></a>.</p>
<div class="section" id="load-transmission">
<h3>Load Transmission<a class="headerlink" href="#load-transmission" title="Permalink to this headline">¶</a></h3>
<p>Load a saved Transmission instance using <a class="reference internal" href="../../api_reference/Analysis_data_types.html#mesmerize.Transmission.from_hdf5" title="mesmerize.Transmission.from_hdf5"><code class="xref py py-func docutils literal notranslate"><span class="pre">Transmission.from_hdf5</span></code></a></p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mesmerize</span> <span class="kn">import</span> <span class="n">Transmission</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">uuid</span> <span class="kn">import</span> <span class="n">UUID</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Transmission</span><span class="o">.</span><span class="n">from_hdf5</span><span class="p">(</span><span class="s1">&#39;/share/data/temp/kushal/data.trn&#39;</span><span class="p">)</span>
<span class="go">&lt;mesmerize.analysis.data_types.Transmission at 0x7f4d42f386a0&gt;</span>

<span class="go"># The DataFrame is always the &#39;df&#39; attribute</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>

<span class="go">                                           CurvePath  ... FCLUSTER_LABELS</span>
<span class="go">0  curves/a2-_-1-_-843c2d43-75f3-421a-9fef-483d1e...  ...               8</span>
<span class="go">1  curves/brn3b_a6-_-2-_-21557a64-6868-4ff4-8db1-...  ...               4</span>
<span class="go">2  curves/brn3b_a6-_-2-_-21557a64-6868-4ff4-8db1-...  ...               5</span>
<span class="go">3  curves/brn3b_day1_3-_-2-_-ff3e95df-0e15-495c-9...  ...               8</span>
<span class="go">4  curves/brn3b_day1_3-_-2-_-ff3e95df-0e15-495c-9...  ...               6</span>

<span class="go">[5 rows x 27 columns]</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="view-history-log">
<h3>View History Log<a class="headerlink" href="#view-history-log" title="Permalink to this headline">¶</a></h3>
<p>Transmissions have a <cite>history_trace</cite> attribute which is an instance of <a class="reference internal" href="../../api_reference/Analysis_data_types.html#mesmerize.analysis.data_types.HistoryTrace" title="mesmerize.analysis.data_types.HistoryTrace"><code class="xref py py-class docutils literal notranslate"><span class="pre">HistoryTrace</span></code></a>.</p>
<p>Use the <a class="reference internal" href="../../api_reference/Analysis_data_types.html#mesmerize.analysis.data_types.HistoryTrace.get_data_block_history" title="mesmerize.analysis.data_types.HistoryTrace.get_data_block_history"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_data_block_history</span></code></a> and <a class="reference internal" href="../../api_reference/Analysis_data_types.html#mesmerize.analysis.data_types.HistoryTrace.get_operations_list" title="mesmerize.analysis.data_types.HistoryTrace.get_operations_list"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_operations_list</span></code></a> methods to view the history log of a data block.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># To view the history log, first get the block UUID of the dataframe row of which you want the history log</span>

<span class="c1"># Block UUIDs are stored in the _BLOCK_ column</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">bid</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">_BLOCK_</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">bid</span>

<span class="s1">&#39;248a6ece-e60e-4a09-845e-188a5199d262&#39;</span>

<span class="c1"># Get the history log of this data block</span>
<span class="c1"># HistoryTrace.get_operations_list() returns a list of operations, without parameters</span>
<span class="c1"># HistoryTrace.get_data_block_history() returns the operations list with the parameters</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">history_trace</span><span class="o">.</span><span class="n">get_operations_list</span><span class="p">(</span><span class="n">bid</span><span class="p">)</span>

<span class="p">[</span><span class="s1">&#39;spawn_transmission&#39;</span><span class="p">,</span>
 <span class="s1">&#39;splice_arrays&#39;</span><span class="p">,</span>
 <span class="s1">&#39;normalize&#39;</span><span class="p">,</span>
 <span class="s1">&#39;rfft&#39;</span><span class="p">,</span>
 <span class="s1">&#39;absolute_value&#39;</span><span class="p">,</span>
 <span class="s1">&#39;log_transform&#39;</span><span class="p">,</span>
 <span class="s1">&#39;splice_arrays&#39;</span><span class="p">,</span>
 <span class="s1">&#39;fcluster&#39;</span><span class="p">]</span>

<span class="c1"># View the entire history log with all params</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">history_trace</span><span class="o">.</span><span class="n">get_data_block_history</span><span class="p">(</span><span class="n">bid</span><span class="p">)</span>

<span class="p">[{</span><span class="s1">&#39;spawn_transmission&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;sub_dataframe_name&#39;</span><span class="p">:</span> <span class="s1">&#39;neuronal&#39;</span><span class="p">,</span>
<span class="s1">&#39;dataframe_filter_history&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;dataframe_filter_history&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;df[~df[&quot;promoter&quot;].isin([</span><span class="se">\&#39;</span><span class="s1">cesa</span><span class="se">\&#39;</span><span class="s1">, </span><span class="se">\&#39;</span><span class="s1">hnk1</span><span class="se">\&#39;</span><span class="s1">])]&#39;</span><span class="p">,</span>
    <span class="s1">&#39;df[~df[&quot;promoter&quot;].isin([</span><span class="se">\&#39;</span><span class="s1">cesa</span><span class="se">\&#39;</span><span class="s1">, </span><span class="se">\&#39;</span><span class="s1">hnk1</span><span class="se">\&#39;</span><span class="s1">])]&#39;</span><span class="p">,</span>
    <span class="s1">&#39;df[~df[&quot;cell_name&quot;].isin([</span><span class="se">\&#39;</span><span class="s1">not_a_neuron</span><span class="se">\&#39;</span><span class="s1">, </span><span class="se">\&#39;</span><span class="s1">non_neuronal</span><span class="se">\&#39;</span><span class="s1">, </span><span class="se">\&#39;</span><span class="s1">untagged</span><span class="se">\&#39;</span><span class="s1">, </span><span class="se">\&#39;</span><span class="s1">ependymal</span><span class="se">\&#39;</span><span class="s1">])]&#39;</span><span class="p">]}}},</span>
<span class="p">{</span><span class="s1">&#39;splice_arrays&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data_column&#39;</span><span class="p">:</span> <span class="s1">&#39;_RAW_CURVE&#39;</span><span class="p">,</span>
<span class="s1">&#39;start_ix&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="s1">&#39;end_ix&#39;</span><span class="p">:</span> <span class="mi">2990</span><span class="p">,</span>
<span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">}},</span>
<span class="p">{</span><span class="s1">&#39;normalize&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data_column&#39;</span><span class="p">:</span> <span class="s1">&#39;_SPLICE_ARRAYS&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">}},</span>
<span class="p">{</span><span class="s1">&#39;rfft&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data_column&#39;</span><span class="p">:</span> <span class="s1">&#39;_NORMALIZE&#39;</span><span class="p">,</span>
<span class="s1">&#39;frequencies&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">0.0033444816053511705</span><span class="p">,</span>
    <span class="mf">0.0033444816053511705</span><span class="p">,</span>
    <span class="mf">0.006688963210702341</span><span class="p">,</span>
    <span class="o">...</span>

<span class="c1"># Get the parameters for the &#39;fcluster&#39; operation</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">fp</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">history_trace</span><span class="o">.</span><span class="n">get_operation_params</span><span class="p">(</span><span class="n">bid</span><span class="p">,</span> <span class="s1">&#39;fcluster&#39;</span><span class="p">)</span>

<span class="c1"># remove the linkage matrix first so we can view the other params</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">fp</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;linkage_matrix&#39;</span><span class="p">);</span><span class="n">fp</span>

<span class="p">{</span><span class="s1">&#39;threshold&#39;</span><span class="p">:</span> <span class="mf">8.0</span><span class="p">,</span>
 <span class="s1">&#39;criterion&#39;</span><span class="p">:</span> <span class="s1">&#39;maxclust&#39;</span><span class="p">,</span>
 <span class="s1">&#39;depth&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
 <span class="s1">&#39;linkage_params&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;method&#39;</span><span class="p">:</span> <span class="s1">&#39;complete&#39;</span><span class="p">,</span>
 <span class="s1">&#39;metric&#39;</span><span class="p">:</span> <span class="s1">&#39;wasserstein&#39;</span><span class="p">,</span>
 <span class="s1">&#39;optimal_ordering&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}}</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="nodes.html" class="btn btn-neutral float-right" title="Nodes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../viewer/modules/script_editor.html" class="btn btn-neutral float-left" title="Script Editor" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Kushal Kolar

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>